<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Izskaties DzirdÄ“ts | ViktorÄ«nas ar JÄni ZaÄu</title>
    <meta name="description" content="ProfesionÄlas viktorÄ«nas privÄtiem un korporatÄ«viem pasÄkumiem. 14+ gadu pieredze erudÄ«cijas spÄ“lÄ“s.">

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Merriweather:wght@300;400;700&family=Oswald:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* --- Å eit CSS pilns no tava sÄkotnÄ“jÄ koda --- */
        :root {
            --primary: #E63946;
            --secondary: #F1FAEE;
            --dark: #1D3557;
            --accent: #FFD93D;
            --text: #2B2D42;
            --light-gray: #EDF2F4;
            --success: #06D6A0;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Merriweather', serif; color:var(--text); line-height:1.6; overflow-x:hidden; background:var(--secondary);}
        html {scroll-behavior: smooth;}
        /* Hero Section */
        .hero {position:relative; min-height:100vh; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg, var(--dark) 0%, #457B9D 100%); overflow:hidden; padding:2rem;}
        .hero-content {position:relative; z-index:2; text-align:center; max-width:900px; animation: fadeInUp 1s ease-out;}
        @keyframes fadeInUp { from{opacity:0; transform:translateY(30px);} to{opacity:1; transform:translateY(0);} }
        .brand-logo {font-family:'Bebas Neue', sans-serif; font-size:clamp(3rem,10vw,7rem); color:white; letter-spacing:2px; margin-bottom:1rem; text-shadow:4px 4px 0 var(--primary);}
        .tagline {font-size:clamp(1.2rem,3vw,1.8rem); color:var(--accent); font-weight:300; margin-bottom:2rem;}
        .hero-description {color:var(--secondary); font-size:1.1rem; margin-bottom:3rem; max-width:700px; margin-left:auto; margin-right:auto;}
        .cta-button {display:inline-block; padding:1.2rem 3rem; background:var(--primary); color:white; text-decoration:none; font-family:'Oswald', sans-serif; font-size:1.3rem; letter-spacing:1px; border:none; cursor:pointer; transition: all 0.3s ease; text-transform: uppercase; position:relative; overflow:hidden;}
        .cta-button::before {content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:rgba(255,255,255,0.2); transition:left 0.5s ease;}
        .cta-button:hover::before {left:100%;}
        .cta-button:hover {transform:translateY(-3px); box-shadow:0 10px 30px rgba(230,57,70,0.4);}
        section {padding:5rem 2rem; max-width:1200px; margin:0 auto;}
        .section-title {font-family:'Bebas Neue', sans-serif; font-size:clamp(2.5rem,6vw,4rem); color:var(--dark); margin-bottom:1rem; position:relative; display:inline-block;}
        .section-title::after {content:''; position:absolute; bottom:-10px; left:0; width:60%; height:4px; background:var(--primary);}
        .services-grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:2rem; margin-top:3rem;}
        .service-card {background:white; padding:2.5rem 2rem; border-left:6px solid var(--primary); transition:all 0.3s ease; position:relative;}
        .service-card:hover {transform:translateX(10px); box-shadow:-10px 10px 30px rgba(0,0,0,0.1);}
        .service-icon {font-size:3rem; margin-bottom:1rem;}
        .service-title {font-family:'Oswald', sans-serif; font-size:1.8rem; color:var(--dark); margin-bottom:1rem;}
        .service-description {color:#666; line-height:1.8;}
        /* Booking & Calendar & Form */
        .booking-section {background:white; padding:5rem 2rem;}
        .booking-container {max-width:1400px; margin:0 auto;}
        .booking-grid {display:grid; grid-template-columns:2fr 1fr; gap:3rem; margin-top:3rem;}
        .calendar-wrapper, .booking-form-wrapper {background:white; padding:2.5rem; border-radius:10px; box-shadow:0 5px 20px rgba(0,0,0,0.1);}
        .booking-form-wrapper {position:sticky; top:2rem; max-height:calc(100vh-4rem); overflow-y:auto;}
        .calendar-header {display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;}
        .month-nav {display:flex; gap:1rem; align-items:center;}
        .nav-btn {background:var(--dark); color:white; border:none; padding:0.5rem 1rem; cursor:pointer; font-family:'Oswald', sans-serif; transition:all 0.3s; border-radius:5px;}
        .nav-btn:hover {background:var(--primary); transform:translateY(-2px);}
        .current-month {font-family:'Oswald', sans-serif; font-size:1.5rem; color:var(--dark); min-width:200px; text-align:center;}
        .calendar-grid {display:grid; grid-template-columns:repeat(7,1fr); gap:0.5rem;}
        .calendar-day-header {text-align:center; font-family:'Oswald', sans-serif; color:var(--dark); padding:1rem 0; font-size:0.9rem;}
        .calendar-day {aspect-ratio:1; display:flex; flex-direction:column; align-items:center; justify-content:center; border:2px solid var(--light-gray); cursor:pointer; transition:all 0.3s; border-radius:5px; position:relative;}
        .calendar-day:hover:not(.disabled):not(.past) {border-color:var(--primary); transform:scale(1.05);}
        .calendar-day.disabled {background:#f5f5f5; cursor:not-allowed; opacity:0.5;}
        .calendar-day.past {opacity:0.3; cursor:not-allowed;}
        .calendar-day.selected {background:var(--primary); color:white; border-color:var(--primary);}
        .calendar-day.available {border-color:var(--success); background:rgba(6,214,160,0.1);}
        .day-number {font-weight:bold; font-size:1.1rem;}
        .availability-dots {display:flex; gap:3px; margin-top:5px;}
        .host-dot {width:6px; height:6px; border-radius:50%; background:var(--success);}
        .host-dot.booked {background:var(--primary);}
        .form-group {margin-bottom:1.5rem;}
        .form-label {display:block; font-family:'Oswald', sans-serif; color:var(--dark); margin-bottom:0.5rem; font-size:1.1rem;}
        .form-input, .form-select, .form-textarea {width:100%; padding:0.8rem; border:2px solid var(--light-gray); border-radius:5px; font-family:'Merriweather', serif; font-size:1rem; transition:border-color 0.3s;}
        .form-input:focus, .form-select:focus, .form-textarea:focus {outline:none; border-color:var(--primary);}
        .form-textarea {min-height:100px; resize:vertical;}
        .host-selection {display:flex; flex-direction:column; gap:0.8rem;}
        .host-option {padding:1rem; border:2px solid var(--light-gray); border-radius:5px; cursor:pointer; transition:all 0.3s;}
        .host-option:hover {border-color:var(--primary);}
        .host-option.selected {border-color:var(--primary); background:rgba(230,57,70,0.1);}
        .host-name {font-family:'Oswald', sans-serif; font-size:1.1rem; color:var(--dark); margin-bottom:0.3rem;}
        .ai-recommendation {background:var(--accent); padding:1rem; border-radius:5px; margin-top:1rem; font-size:0.9rem; color:var(--dark);}
        .submit-btn {width:100%; padding:1.2rem; background:var(--primary); color:white; border:none; border-radius:5px; font-family:'Oswald', sans-serif; font-size:1.3rem; cursor:pointer; transition:all 0.3s; text-transform:uppercase; letter-spacing:1px;}
        .submit-btn:hover:not(:disabled) {background:var(--dark); transform:translateY(-3px); box-shadow:0 5px 15px rgba(230,57,70,0.3);}
        .submit-btn:disabled {opacity:0.5; cursor:not-allowed;}
        .loading-spinner {display:inline-block; width:20px; height:20px; border:3px solid white; border-top-color:transparent; border-radius:50%; animation:spin 0.8s linear infinite;}
        @keyframes spin {to{transform:rotate(360deg);}}
        .success-message {background:var(--success); color:white; padding:3rem; border-radius:10px; text-align:center;}
        .error-message {background:var(--primary); color:white; padding:1rem; border-radius:5px; margin-bottom:1rem;}
        .info-box {background:var(--light-gray); padding:1.5rem; border-radius:5px; margin-bottom:2rem; border-left:4px solid var(--accent);}
        .legend {display:flex; gap:2rem; margin-top:1rem; flex-wrap:wrap;}
        .legend-item {display:flex; align-items:center; gap:0.5rem; font-size:0.9rem;}
        .legend-box {width:20px; height:20px; border:2px solid; border-radius:3px;}
        .contact-section {background:var(--light-gray);}
        .contact-grid {display:grid; grid-template-columns:1fr 1fr; gap:4rem; margin-top:3rem;}
        .contact-info {display:flex; flex-direction:column; gap:2rem;}
        .contact-item {display:flex; align-items:flex-start; gap:1.5rem;}
        .contact-icon {font-size:2rem; color:var(--primary); margin-top:0.2rem;}
        .contact-details h3 {font-family:'Oswald', sans-serif; font-size:1.5rem; color:var(--dark); margin-bottom:0.5rem;}
        .contact-details p {color:#666;}
        .contact-details a {color:var(--primary); text-decoration:none; transition:color 0.3s ease;}
        .contact-details a:hover {color:var(--dark);}
        footer {background:var(--dark); color:var(--secondary); text-align:center; padding:3rem 2rem;}
        .social-links {display:flex; gap:2rem; justify-content:center; margin-bottom:2rem;}
        .social-links a {color:var(--secondary); font-size:2rem; transition:all 0.3s ease; text-decoration:none;}
        .social-links a:hover {color:var(--accent); transform:translateY(-5px);}
        @media (max-width:1024px) {.booking-grid{grid-template-columns:1fr;}.booking-form-wrapper{position:static; max-height:none;}}
        @media (max-width:768px){.contact-grid{grid-template-columns:1fr; gap:2rem;}.hero{min-height:80vh;} section{padding:3rem 1.5rem;} .calendar-grid{gap:0.3rem;} .calendar-day{font-size:0.85rem;} .day-number{font-size:0.95rem;} .availability-dots{display:none;}}
    </style>

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        (function(){
            emailjs.init("YHTsjioMXMQ917e10");
        })();
    </script>
</head>

<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="brand-logo">IZSKATIES DZIRDÄ’TS</h1>
            <p class="tagline">ViktorÄ«nas ar raksturu</p>
            <p class="hero-description">ProfesionÄlas, aizraujoÅ¡as viktorÄ«nas privÄtiem un korporatÄ«viem pasÄkumiem. 14+ gadu pieredze erudÄ«cijas spÄ“Ä¼u vadÄ«Å¡anÄ LatvijÄ.</p>
            <a href="#booking" class="cta-button">RezervÄ“t viktorÄ«nu</a>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services">
        <h2 class="section-title">Ko piedÄvÄju</h2>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">ğŸ¢</div>
                <h3 class="service-title">KorporatÄ«vie pasÄkumi</h3>
                <p class="service-description">PielÄgotas viktorÄ«nas komandas saliedÄ“Å¡anai, gada svÄ“tkiem vai klienta pasÄkumiem. ProfesionÄla tehnika, savs skaÅ†as aprÄ«kojums.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">ğŸ‰</div>
                <h3 class="service-title">PrivÄtie pasÄkumi</h3>
                <p class="service-description">DzimÅ¡anas dienas, ballÄ«tes, Ä£imenes pasÄkumi. RadÄ«Å¡u neaizmirstamu vakaru ar jautÄjumiem, kas pielÄgoti tieÅ¡i JÅ«su auditorijai.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">ğŸº</div>
                <h3 class="service-title">PubliskÄs viktorÄ«nas</h3>
                <p class="service-description">RegulÄras viktorÄ«nas bÄros un kafejnÄ«cÄs. Viens no pirmajiem, kas sÄka erudÄ«cijas spÄ“Ä¼u kustÄ«bu LatvijÄ.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">ğŸµ</div>
                <h3 class="service-title">Tematiskas spÄ“les</h3>
                <p class="service-description">MÅ«zikas viktorÄ«nas, popkultÅ«ras kvÄ«zi, vÄ“stures maratoni - izvÄ“lieties tÄ“mu vai Ä¼aujiet man pÄrsteigt ar universÄlu formÄtu.</p>
            </div>
        </div>
    </section>

    <!-- Booking Section -->
    <section class="booking-section" id="booking">
        <div class="booking-container">
            <h2 class="section-title">RezervÄ“t viktorÄ«nu</h2>
            <div id="booking-app"></div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section" id="contact">
        <h2 class="section-title">SazinÄties</h2>
        <div class="contact-grid">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">ğŸ“§</div>
                    <div class="contact-details">
                        <h3>E-pasts</h3>
                        <p><a href="mailto:janiszacs@gmail.com">janiszacs@gmail.com</a></p>
                        <p style="font-size:0.9rem; margin-top:0.5rem;">AtbildÄ“Å¡u 24 stundu laikÄ</p>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">ğŸ“</div>
                    <div class="contact-details">
                        <h3>Telefons</h3>
                        <p><a href="tel:+37112345678">+371 12345678</a></p>
                        <p style="font-size:0.9rem; margin-top:0.5rem;">Pieejams darba dienÄs 9:00â€“18:00</p>
                    </div>
                </div>
            </div>
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">ğŸ“</div>
                    <div class="contact-details">
                        <h3>Vieta</h3>
                        <p>RÄ«ga, Latvija</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="social-links">
            <a href="https://facebook.com" target="_blank">ğŸ“˜</a>
            <a href="https://instagram.com" target="_blank">ğŸ“¸</a>
        </div>
        <p>&copy; 2026 ViktorÄ«nas ar JÄni ZaÄu. Visas tiesÄ«bas aizsargÄtas.</p>
    </footer>

    <!-- Booking App -->
    <script type="text/babel">

    const { useState, useEffect } = React;

    // Supabase init
    const supabase = supabase.createClient(
        'https://YOUR-SUPABASE-URL.supabase.co',
        'YOUR-SUPABASE-ANON-KEY'
    );

    function BookingApp() {
        const [selectedDate, setSelectedDate] = useState(null);
        const [calendar, setCalendar] = useState([]);
        const [month, setMonth] = useState(new Date().getMonth());
        const [year, setYear] = useState(new Date().getFullYear());
        const [form, setForm] = useState({name:'',email:'',phone:'',guests:'',notes:'',host:''});
        const [loading,setLoading] = useState(false);
        const [success,setSuccess] = useState(false);
        const [error,setError] = useState('');

        const daysOfWeek = ['P','O','T','C','P','S','S']; // NedÄ“Ä¼a sÄkas pirmdienÄ

        useEffect(()=>{
            generateCalendar(month,year);
        },[month,year]);

        function generateCalendar(m,y){
            let firstDay = new Date(y,m,1);
            let lastDay = new Date(y,m+1,0);
            let days = [];
            let startDay = firstDay.getDay();
            startDay = (startDay==0)?7:startDay; // nedÄ“Ä¼a sÄkas pirmdienÄ
            for(let i=1;i<startDay;i++) days.push(null);
            for(let d=1; d<=lastDay.getDate(); d++){
                days.push(new Date(y,m,d));
            }
            setCalendar(days);
        }

        function nextMonth(){
            if(month===11){setMonth(0); setYear(year+1);}
            else setMonth(month+1);
        }
        function prevMonth(){
            if(month===0){setMonth(11); setYear(year-1);}
            else setMonth(month-1);
        }

        async function submitForm(e){
            e.preventDefault();
            if(!selectedDate){setError('âŒ LÅ«dzu izvÄ“lies datumu.'); return;}
            if(!form.name || !form.email || !form.phone){setError('âŒ LÅ«dzu aizpildi visus obligÄtos laukus.'); return;}
            setLoading(true); setError('');
            try{
                let { data, error: supError } = await supabase.from('reservations').insert([{
                    name:form.name,
                    email:form.email,
                    phone:form.phone,
                    guests:form.guests,
                    notes:form.notes,
                    host:form.host,
                    date:selectedDate
                }]);
                if(supError){throw supError;}
                setSuccess(true);
                setForm({name:'',email:'',phone:'',guests:'',notes:'',host:''});
                setSelectedDate(null);
            }catch(err){
                console.log(err);
                setError('âŒ NeizdevÄs nosÅ«tÄ«t rezervÄciju. LÅ«dzu mÄ“Ä£iniet vÄ“lreiz vai sazinieties tieÅ¡i: janiszacs@gmail.com');
            }finally{
                setLoading(false);
            }
        }

        return (
            <div className="booking-grid">
                <div className="calendar-wrapper">
                    <div className="calendar-header">
                        <div className="month-nav">
                            <button className="nav-btn" onClick={prevMonth}>AtpakaÄ¼</button>
                        </div>
                        <div className="current-month">{new Date(year,month).toLocaleString('lv-LV',{month:'long', year:'numeric'})}</div>
                        <div className="month-nav">
                            <button className="nav-btn" onClick={nextMonth}>Uz priekÅ¡u</button>
                        </div>
                    </div>
                    <div className="calendar-grid">
                        {daysOfWeek.map((d,i)=><div key={i} className="calendar-day-header">{d}</div>)}
                        {calendar.map((day,i)=>{
                            if(!day) return <div key={i} className="calendar-day disabled"></div>;
                            let isPast = day<new Date();
                            return (
                                <div key={i} className={`calendar-day ${isPast?'past':''} ${selectedDate && selectedDate.toDateString()===day.toDateString()?'selected':''}`} onClick={()=>!isPast && setSelectedDate(day)}>
                                    <div className="day-number">{day.getDate()}</div>
                                </div>
                            )
                        })}
                    </div>
                </div>
                <div className="booking-form-wrapper">
                    {success?
                        <div className="success-message">
                            âœ… RezervÄcija veiksmÄ«gi nosÅ«tÄ«ta! Paldies!
                        </div>
                    :
                        <form onSubmit={submitForm}>
                            {error && <div className="error-message">{error}</div>}
                            <div className="form-group">
                                <label className="form-label">VÄrds *</label>
                                <input type="text" className="form-input" value={form.name} onChange={e=>setForm({...form,name:e.target.value})}/>
                            </div>
                            <div className="form-group">
                                <label className="form-label">E-pasts *</label>
                                <input type="email" className="form-input" value={form.email} onChange={e=>setForm({...form,email:e.target.value})}/>
                            </div>
                            <div className="form-group">
                                <label className="form-label">Telefons *</label>
                                <input type="tel" className="form-input" value={form.phone} onChange={e=>setForm({...form,phone:e.target.value})}/>
                            </div>
                            <div className="form-group">
                                <label className="form-label">Viesu skaits</label>
                                <input type="number" className="form-input" value={form.guests} onChange={e=>setForm({...form,guests:e.target.value})}/>
                            </div>
                            <div className="form-group">
                                <label className="form-label">PiezÄ«mes</label>
                                <textarea className="form-textarea" value={form.notes} onChange={e=>setForm({...form,notes:e.target.value})}></textarea>
                            </div>
                            <div className="form-group">
                                <label className="form-label">IzvÄ“lies vadÄ«tÄju</label>
                                <div className="host-selection">
                                    {['JÄnis ZaÄs','Laura LÄce','MÄrtiÅ†Å¡ BÄ“rziÅ†Å¡'].map((h)=>
                                        <div key={h} className={`host-option ${form.host===h?'selected':''}`} onClick={()=>setForm({...form,host:h})}>{h}</div>
                                    )}
                                </div>
                            </div>
                            <button type="submit" className="submit-btn" disabled={loading}>{loading?<span className="loading-spinner"></span>:'RezervÄ“t'}</button>
                        </form>
                    }
                </div>
            </div>
        )
    }

    ReactDOM.render(<BookingApp />,document.getElementById('booking-app'));
    </script>
</body>
</html>
